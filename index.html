<style>
    /* 中略 */
    .answer-box {
        width: 100%; flex-grow: 1; max-height: 50%;
        display: flex; 
        flex-direction: column; /* 複数ある場合に並べる */
        align-items: center; justify-content: center;
        writing-mode: vertical-rl;
        font-size: clamp(32px, 6vh, 60px); 
        color: #e74c3c; font-weight: bold;
        opacity: 0; transform: scale(0.9);
        gap: 20px; /* 解答同士の間隔 */
        line-height: 1.2;
    }
    .answer-box.visible { opacity: 1; transform: scale(1); transition: 0.2s; }
    
    /* 2つ以上の解答がある場合に少し文字を小さくして収まりを良くする */
    .answer-multi {
        font-size: clamp(24px, 5vh, 48px);
    }
    /* 中略 */
</style>

<script>
    /* 中略 */
    function showQuestion() {
        if (currentIndex >= currentQuestions.length) return;
        const q = currentQuestions[currentIndex];
        document.getElementById('q-number').innerText = (currentIndex + 1);
        
        // 問題文の（）を傍線に変換
        document.getElementById('q-text').innerHTML = q.q.replace(/[（\(](.*?)[）\)]/g, '<span class="highlight">$1</span>');
        
        // ★解答の表示処理（複数対応）
        const answerArea = document.getElementById('a-text');
        const rawAnswer = q.a || "";
        
        // 「、」か「 」か「,」で区切られている場合に分割
        const answers = rawAnswer.split(/[、\s,]+/);
        
        if (answers.length > 1) {
            answerArea.classList.add('answer-multi');
            // 縦書きの列として並べる
            answerArea.innerHTML = answers.map(a => `<div>${a}</div>`).join('');
        } else {
            answerArea.classList.remove('answer-multi');
            answerArea.innerText = rawAnswer;
        }

        document.getElementById('a-text').classList.remove('visible');
        document.getElementById('show-btn').classList.remove('hidden');
        document.getElementById('judgement-btns').classList.add('hidden');
    }
    /* 以下略 */
</script>
