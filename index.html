<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Êº¢Â≠óÂ≠¶Áøí„Ç∑„Çπ„ÉÜ„É†ÔºàÁµ±ÂêàÁâàÔºâ</title>
    <style>
        /* =========================================
           ÂÖ±ÈÄöË®≠ÂÆö & „ÅÑ„Åü„Å†„ÅÑ„ÅüCSS (Èñ≤Ë¶ß„ÉªÂç∞Âà∑Áî®)
           ========================================= */
        :root {
            --ink-black: #000000;
            --main-font: "UD Digital Kyokasho N-R", "UD „Éá„Ç∏„Çø„É´ ÊïôÁßëÊõ∏‰Ωì N-R", "BIZ UDPGothic", sans-serif;
            --border-width: 2px;
            --border-color: #000; 
            --color-perfect: #27ae60; 
            --color-review: #e67e22;  
        }

        body { 
            margin: 0; 
            font-family: var(--main-font); 
            background: #e0d8c3; 
            overflow: hidden; 
        }

        /* Âç∞Âà∑Áî®Ë®≠ÂÆö (Èñ≤Ë¶ß„É¢„Éº„Éâ„ÅÆË¶ÅÁ¥†„ÅÆ„ÅøË°®Á§∫) */
        @media print {
            @page { size: A4 landscape; margin: 0; }
            body { 
                background: white !important; 
                overflow: visible !important;
                -webkit-print-color-adjust: exact;
                print-color-adjust: exact;
            }
            /* Á∑¥Áøí„É¢„Éº„Éâ„ÇÑ„É°„Éã„É•„Éº„ÅØÈö†„Åô */
            #menu-screen, #practice-container, .view-header { display: none !important; }
            
            /* ‰ª•‰∏ã„ÄÅ„ÅÑ„Åü„Å†„ÅÑ„Åü„Ç≥„Éº„Éâ„ÅÆÂç∞Âà∑Ë®≠ÂÆö„Åù„ÅÆ„Åæ„Åæ */
            .screen-overlay { position: static !important; background: white !important; display: block !important; }
            #view-mode-container { display: block !important; height: auto !important; padding: 0 !important; }
            .view-canvas { 
                width: 285mm !important; height: 185mm !important; margin: 5mm auto !important;
                border: var(--border-width) solid var(--border-color) !important; 
                box-shadow: none !important; 
                page-break-after: always !important; 
            }
            .view-canvas:last-child { page-break-after: auto !important; }
            .ans-text { color: black !important; opacity: 1 !important; visibility: visible !important; }
            .ans-wrapper::before { content: none !important; }
            .square-mark { display: none !important; }
        }

        /* --- „ÅÑ„Åü„Å†„ÅÑ„ÅüÈñ≤Ë¶ß„ÉªÂç∞Âà∑„É¢„Éº„Éâ„ÅÆCSS („Åì„Åì„Åã„ÇâÂ§âÊõ¥„Å™„Åó) --- */
        .screen-overlay {
            display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: #f0f0f0; z-index: 100;
        }

        .view-header {
            width: 100%; height: 50px; display: flex; justify-content: space-between; align-items: center;
            padding: 0 20px; box-sizing: border-box; background: #fff; border-bottom: 1px solid #ccc;
        }

        #view-mode-container {
            height: calc(100vh - 50px); display: flex; align-items: center; justify-content: center;
            padding: 10px; box-sizing: border-box; overflow-y: auto;
        }

        .view-canvas {
            display: flex; flex-direction: row-reverse;
            height: 96%; width: 96vw; max-width: 1600px;
            background: white; 
            border: var(--border-width) solid var(--border-color);
            box-sizing: border-box; padding: 20px; overflow: hidden;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
            flex-shrink: 0;
        }

        .kanji-table-grid {
            display: flex; flex-direction: row-reverse;
            height: 100%; flex-grow: 1; 
            border: var(--border-width) solid var(--border-color);
            background: var(--border-color); 
            gap: var(--border-width);        
            overflow: hidden; box-sizing: border-box; 
        }

        .column-unit { 
            border-collapse: collapse; 
            height: 100%; 
            flex: 1; 
            width: auto; 
            table-layout: fixed; 
            background: white; 
            box-sizing: border-box; 
            border: none; 
        }
        
        .column-unit td { 
            border-bottom: var(--border-width) solid var(--border-color); 
            text-align: center; 
            vertical-align: middle; 
            padding: 0; 
            box-sizing: border-box; 
        }

        .column-unit tr:last-child td { border-bottom: none; }
        
        .h-check { height: 10%; }
        .h-num   { height: 6%; font-size: 1.4vh; }
        .h-ques { 
            height: 53%; writing-mode: vertical-rl; text-orientation: upright; text-align: left; 
            padding: 12px 2px; font-size: min(1.9vh, 17px); line-height: 1.4; vertical-align: middle; 
        }
        .h-num2  { height: 6%; font-size: 1.4vh; }
        .h-ans { height: 25%; position: relative; transition: background 0.1s; }
        
        .ques-wrapper { display: block; width: 100%; height: 100%; text-align: left; }
        .invisible-text { visibility: hidden; pointer-events: none; }
        
        body.view-mode-active .h-ans.has-data { cursor: pointer; }
        body.view-mode-active .h-ans.has-data:hover { background-color: #f0f8ff; }
        
        .ans-wrapper {
            position: absolute; top: 0; left: 0; width: 100%; height: 100%;
            display: flex; align-items: center; justify-content: center;
            writing-mode: vertical-rl; text-orientation: upright;
            pointer-events: none;
        }

        .ans-wrapper.show-hint::before {
            content: "Ôºü"; color: #eee; font-size: 3vh; font-weight: bold;
            position: absolute; z-index: 0;
        }

        .ans-text { font-size: 2.3vh; font-weight: bold; color: #e74c3c; line-height: 1; transition: opacity 0.2s; z-index: 1; }
        .ans-text.blind { opacity: 0; }

        .print-title {
            writing-mode: vertical-rl; font-weight: bold; 
            border: var(--border-width) solid var(--border-color); 
            border-left: 4px double #000;
            padding: 0 15px; display: flex; align-items: center; font-size: 1.3rem;
            height: 100%; margin-left: 15px; box-sizing: border-box; background: white;
        }

        .square { 
            width: 20px; height: 20px; 
            border: 1px solid #000; 
            margin: auto; 
            display: flex; align-items: center; justify-content: center;
            font-weight: bold;
            font-size: 16px;
            cursor: pointer;
            user-select: none;
        }
        .square.hidden { visibility: hidden; pointer-events: none; } 
        
        .mark-perfect { color: var(--color-perfect); } 
        .mark-review { color: var(--color-review); font-size: 14px; }  

        body.view-mode-active .square:hover { background-color: #f9f9f9; }

        .btn-action { padding: 6px 16px; border-radius: 20px; border: 1px solid #333; cursor: pointer; font-weight: bold; background: white; }
        .btn-action:hover { background: #f5f5f5; }

        /* --- „É°„Éã„É•„ÉºÁîªÈù¢ (Áµ±ÂêàÁî®„Å´Â∞ë„ÅóË™øÊï¥) --- */
        #menu-screen {
            display: flex; flex-direction: column; align-items: center; justify-content: center;
            height: 100vh; gap: 30px; background: #e0d8c3;
            position: fixed; top: 0; left: 0; width: 100%; z-index: 200;
        }
        .menu-card {
            background: white; padding: 40px; border-radius: 15px;
            box-shadow: 0 10px 25px rgba(0,0,0,0.1); text-align: center;
        }
        .select-box { padding: 12px; font-size: 1.1rem; width: 300px; margin-bottom: 20px; border: 2px solid #ccc; border-radius: 8px; }
        
        .btn-group { display: flex; flex-direction: column; gap: 15px; width: 100%; align-items: center; }
        .btn-main { 
            padding: 15px 25px; font-size: 1rem; border: none; border-radius: 8px; 
            cursor: pointer; color: white; font-weight: bold; transition: 0.2s; 
            width: 280px; text-align: center;
            display: flex; align-items: center; justify-content: center; gap: 10px;
        }
        .btn-main:hover { opacity: 0.9; transform: translateY(-2px); }

        .btn-practice { background: #e67e22; font-size: 1.1rem; } /* Á∑¥Áøí„É¢„Éº„Éâ„Éú„Çø„É≥ */
        .btn-view { background: #3498db; }
        .btn-print { background: #27ae60; }


        /* =========================================
           Á∑¥Áøí„É¢„Éº„ÉâÁî®„Çπ„Çø„Ç§„É´ (Êñ∞Ë¶èËøΩÂä†)
           ========================================= */
        #practice-container {
            display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: #fdfcf5; z-index: 150;
            flex-direction: column;
        }

        .prac-header {
            height: 60px; background: white; border-bottom: 2px solid #e0e0e0;
            display: flex; align-items: center; justify-content: space-between; padding: 0 20px;
        }

        .prac-body {
            flex: 1; display: flex; align-items: center; justify-content: center;
            padding: 20px;
        }

        .flash-card {
            width: 90%; max-width: 600px; height: 400px;
            background: white; border-radius: 20px;
            box-shadow: 0 8px 20px rgba(0,0,0,0.1);
            display: flex; flex-direction: column; align-items: center; justify-content: center;
            cursor: pointer; position: relative; border: 2px solid #333;
            transition: transform 0.1s;
        }
        .flash-card:active { transform: scale(0.98); }

        .card-content {
            text-align: center; pointer-events: none;
        }

        .card-label { font-size: 1.2rem; color: #888; margin-bottom: 10px; }
        .card-q { font-size: 2.5rem; font-weight: bold; margin-bottom: 20px; line-height: 1.5; }
        .card-a { font-size: 4rem; color: #e74c3c; font-weight: bold; display: none; }
        
        .flash-card.revealed .card-q { color: #888; font-size: 1.5rem; margin-bottom: 10px; }
        .flash-card.revealed .card-a { display: block; }
        .flash-card.revealed { border-color: #e74c3c; background: #fff5f5; }

        .prac-footer {
            height: 100px; display: flex; align-items: center; justify-content: center; gap: 20px;
            padding-bottom: 20px;
        }
        
        .btn-circle {
            width: 70px; height: 70px; border-radius: 50%; border: none;
            font-size: 1.5rem; font-weight: bold; cursor: pointer;
            box-shadow: 0 4px 10px rgba(0,0,0,0.2); transition: transform 0.1s;
            display: flex; align-items: center; justify-content: center;
            color: white;
        }
        .btn-circle:active { transform: scale(0.9); }
        .btn-ng { background: #95a5a6; }
        .btn-ok { background: #e74c3c; width: 80px; height: 80px; font-size: 2rem; }

        .hidden-elm { display: none !important; }

    </style>
</head>
<body>

<div id="menu-screen">
    <div class="menu-card">
        <h1 style="margin-top:0;">Êº¢Â≠óÂ≠¶Áøí„Ç∑„Çπ„ÉÜ„É†</h1>
        <p>Â≠¶Áøí„Åô„Çã„Ç∑„Éº„Éà„ÇíÈÅ∏Êäû„Åó„Å¶„Åè„Å†„Åï„ÅÑ</p>
        <select id="sheet-select" class="select-box">
            <option value="yamanashi">ÔºñÂπ¥ „ÇÑ„Åæ„Å™„Åó</option>
            <option value="curry">ÔºñÂπ¥ „Ç´„É¨„Éº„É©„Ç§„Çπ</option>
        </select>
        
        <div class="btn-group">
            <button class="btn-main btn-practice" onclick="startApp('practice')">
                <span>‚ñ∂Ô∏è</span> Á∑¥Áøí„É¢„Éº„Éâ„ÅßÂßã„ÇÅ„Çã
            </button>
            <button class="btn-main btn-view" onclick="startApp('view')">
                <span>üëÄ</span> ‰∏ÄË¶ß„ÇíË¶ã„Å¶Ë¶ö„Åà„Çã
            </button>
            <button class="btn-main btn-print" onclick="startApp('print')">
                <span>üñ®</span> ÂïèÈ°å„ÇíÂç∞Âà∑„Åô„Çã
            </button>
        </div>
    </div>
</div>

<div id="practice-container">
    <div class="prac-header">
        <button class="btn-action" onclick="goBack()" style="background:#ff4757; color:white; border:none;">√ó ‰∏≠Êñ≠</button>
        <div style="font-weight:bold; font-size:1.2rem;" id="prac-progress">1 / 20</div>
    </div>
    <div class="prac-body">
        <div class="flash-card" id="flash-card" onclick="flipCard()">
            <div class="card-content">
                <div class="card-label">„ÇÇ„Çì„Å†„ÅÑ</div>
                <div class="card-q" id="card-q-text">„Åì„Åì„Å´ÂïèÈ°åÊñá</div>
                <div class="card-a" id="card-a-text">Á≠î</div>
            </div>
            <div style="position:absolute; bottom:20px; font-size:0.9rem; color:#aaa;" id="tap-hint">„Çø„ÉÉ„Éó„Åó„Å¶Á≠î„Åà„ÇíË°®Á§∫</div>
        </div>
    </div>
    <div class="prac-footer hidden-elm" id="prac-controls">
        <button class="btn-circle btn-ng" onclick="nextQuestion()">Ê¨°„Å∏</button>
        <button class="btn-circle btn-ok" onclick="nextQuestion()">Ë¶ö</button>
    </div>
</div>

<div id="app-container" class="screen-overlay">
    <div class="view-header">
        <div style="display:flex; gap:10px;">
            <button class="btn-action" onclick="goBack()" style="background:#ff4757; color:white; border:none;">√ó Èñâ„Åò„Çã</button>
            <button id="toggle-all-btn" class="btn-action" onclick="toggleAllAnswers()">Á≠î„Åà„ÇíË°®Á§∫</button>
        </div>

        <div id="page-info-container" style="display:flex; align-items:center;">
            <div id="page-info" style="font-weight:bold;"></div>
            <span style="font-size: 0.85rem; color: #e74c3c; margin-left: 10px;" id="header-hint-text">‚Äª „Éû„Çπ„Çí„ÇØ„É™„ÉÉ„ÇØ„ÅßÁ≠î„ÅàÂêà„Çè„Åõ</span>
        </div>
        
        <div id="nav-controls">
            <button id="prevBtn" class="btn-action" onclick="changePage(-1)">‚Üê Ââç„Å∏</button>
            <button id="nextBtn" class="btn-action" onclick="changePage(1)">Ê¨°„Å∏ ‚Üí</button>
        </div>
    </div>

    <div id="view-mode-container"></div>
</div>

<script>
    // „Çµ„É≥„Éó„É´„Éá„Éº„Çø
    const kanjiDatasets = {
        "yamanashi": {
            title: "ÔºñÂπ¥ „ÇÑ„Åæ„Å™„Åó",
            questions: Array.from({length: 20}, (_, i) => ({ id: i + 1, q: `„ÇÑ„Åæ„Å™„Åó„ÅÆ${i+1}ÂïèÁõÆ„ÄÇÂïèÈ°åÊñá„ÅÆ„É¨„Ç§„Ç¢„Ç¶„ÉàÁ¢∫Ë™ç„ÄÇ`, a: `Êº¢${i+1}` }))
        },
        "curry": {
            title: "ÔºñÂπ¥ „Ç´„É¨„Éº„É©„Ç§„Çπ",
            questions: Array.from({length: 20}, (_, i) => ({ id: i + 1, q: `„Ç´„É¨„Éº„ÅÆ${i+1}ÂïèÁõÆ„ÄÇÂïèÈ°åÊñá„ÅÆ„É¨„Ç§„Ç¢„Ç¶„ÉàÁ¢∫Ë™ç„ÄÇ`, a: `Ëæõ${i+1}` }))
        }
    };

    let currentData = [];
    let currentTitle = "";
    
    // Èñ≤Ë¶ß„ÉªÂç∞Âà∑Áî®„Çπ„ÉÜ„Éº„Éà
    let currentPage = 0;
    const itemsPerPage = 15;
    let currentMode = 'view';
    let isAllAnswersVisible = false;
    let studyProgress = {}; 

    // Á∑¥Áøí„É¢„Éº„ÉâÁî®„Çπ„ÉÜ„Éº„Éà
    let pracIndex = 0;
    let isRevealed = false;

    // ==========================================
    // „Ç¢„Éó„É™Ëµ∑Âãï„Éª„É¢„Éº„ÉâÂàÜÂ≤ê
    // ==========================================
    function startApp(mode) {
        const selectId = document.getElementById('sheet-select').value;
        const selectedDataset = kanjiDatasets[selectId];
        if (!selectedDataset) return;

        currentData = selectedDataset.questions;
        currentTitle = selectedDataset.title;
        currentMode = mode;

        document.getElementById('menu-screen').style.display = 'none';

        if (mode === 'practice') {
            // Á∑¥Áøí„É¢„Éº„ÉâËµ∑Âãï
            initPracticeMode();
        } else {
            // Èñ≤Ë¶ß„ÉªÂç∞Âà∑„É¢„Éº„ÉâËµ∑Âãï
            initViewPrintMode(mode);
        }
    }

    function goBack() {
        document.getElementById('menu-screen').style.display = 'flex';
        document.getElementById('app-container').style.display = 'none'; // Èñ≤Ë¶ß„É¢„Éº„Éâ„ÇíÈö†„Åô
        document.getElementById('practice-container').style.display = 'none'; // Á∑¥Áøí„É¢„Éº„Éâ„ÇíÈö†„Åô
        document.body.classList.remove('view-mode-active');
    }

    // ==========================================
    // Á∑¥Áøí„É¢„Éº„Éâ„ÅÆ„É≠„Ç∏„ÉÉ„ÇØ („Ç∑„É≥„Éó„É´ÔºÜÈ´òÊ©üËÉΩ)
    // ==========================================
    function initPracticeMode() {
        document.getElementById('practice-container').style.display = 'flex';
        pracIndex = 0;
        renderFlashCard();
    }

    function renderFlashCard() {
        if (pracIndex >= currentData.length) {
            alert('ÂÖ®„Å¶„ÅÆÂïèÈ°å„ÅåÁµÇ‰∫Ü„Åó„Åæ„Åó„ÅüÔºÅ„ÅäÁñ≤„ÇåÊßò„Åß„Åó„Åü„ÄÇ');
            goBack();
            return;
        }

        const item = currentData[pracIndex];
        const card = document.getElementById('flash-card');
        
        // „É™„Çª„ÉÉ„Éà
        isRevealed = false;
        card.classList.remove('revealed');
        document.getElementById('prac-controls').classList.add('hidden-elm');
        document.getElementById('tap-hint').style.display = 'block';

        // „Éá„Éº„Çø„Çª„ÉÉ„Éà
        document.getElementById('card-q-text').innerText = item.q;
        document.getElementById('card-a-text').innerText = item.a;
        document.getElementById('prac-progress').innerText = `${pracIndex + 1} / ${currentData.length}`;
    }

    function flipCard() {
        if (isRevealed) return; // Êó¢„Å´Èñã„ÅÑ„Å¶„ÅÑ„Çå„Å∞‰Ωï„ÇÇ„Åó„Å™„ÅÑ

        isRevealed = true;
        const card = document.getElementById('flash-card');
        card.classList.add('revealed');
        document.getElementById('tap-hint').style.display = 'none';
        
        // Êìç‰Ωú„Éú„Çø„É≥„ÇíË°®Á§∫
        document.getElementById('prac-controls').classList.remove('hidden-elm');
    }

    function nextQuestion() {
        pracIndex++;
        renderFlashCard();
    }

    // ==========================================
    // Èñ≤Ë¶ß„ÉªÂç∞Âà∑„É¢„Éº„Éâ„ÅÆ„É≠„Ç∏„ÉÉ„ÇØ („ÅÑ„Åü„Å†„ÅÑ„Åü„Ç≥„Éº„Éâ„Åù„ÅÆ„Åæ„Åæ)
    // ==========================================
    function initViewPrintMode(mode) {
        document.getElementById('app-container').style.display = 'block';
        
        const container = document.getElementById('view-mode-container');
        container.innerHTML = '';
        currentPage = 0;

        if (mode === 'view') {
            document.body.classList.add('view-mode-active');
            isAllAnswersVisible = false;
            updateToggleBtnText();
            document.getElementById('nav-controls').style.display = 'block';
            renderViewPage();
        } else {
            document.body.classList.remove('view-mode-active');
            document.getElementById('nav-controls').style.display = 'none';
            renderAllPages();
            setTimeout(() => { window.print(); }, 500);
        }
    }

    const MARK_STATES = [
        { val: 0, html: "" }, 
        { val: 1, html: "<span class='square-mark mark-perfect'>‚úî</span>" }, 
        { val: 2, html: "<span class='square-mark mark-review'>‚ñ≥</span>" }  
    ];

    function createPageCanvas(pageData, title) {
        const canvas = document.createElement('div');
        canvas.className = 'view-canvas';
        
        const titleDiv = document.createElement('div');
        titleDiv.className = 'print-title';
        titleDiv.innerText = title;
        canvas.appendChild(titleDiv);

        const grid = document.createElement('div');
        grid.className = 'kanji-table-grid';

        for (let i = 0; i < itemsPerPage; i++) {
            const item = pageData[i]; 
            const isItemExists = !!item;
            const displayId = isItemExists ? item.id : "&nbsp;";
            const displayQ  = isItemExists ? item.q : "\u3000"; 
            const displayA  = isItemExists ? item.a : "\u3000"; 
            const textVisClass = isItemExists ? "" : "invisible-text";
            const isHidden = (currentMode === 'view' && !isAllAnswersVisible);
            
            const table = document.createElement('table');
            table.className = "column-unit";
            table.innerHTML = `
                <tr><td class="h-check"><div class="square ${isItemExists ? '' : 'hidden'}" onclick="toggleCheck(this, ${item?.id})"></div></td></tr>
                <tr><td class="h-num"><span class="${textVisClass}">${displayId}</span></td></tr>
                <tr><td class="h-ques"><div class="ques-wrapper ${textVisClass}">${displayQ}</div></td></tr>
                <tr><td class="h-num2"><span class="${textVisClass}">${displayId}</span></td></tr>
                <td class="h-ans ${isItemExists ? 'has-data' : ''}" onclick="toggleSingleAnswer(this)">
                    <div class="ans-wrapper ${isItemExists && isHidden ? 'show-hint' : ''}">
                        <span class="ans-text ${isItemExists && isHidden ? 'blind' : ''} ${textVisClass}">${displayA}</span>
                    </div>
                </td>
            `;
            grid.appendChild(table);
        }
        canvas.appendChild(grid);
        return canvas;
    }

    function toggleCheck(squareElem, questionId) {
        if (!questionId) return;
        let currentVal = studyProgress[questionId] || 0;
        let nextVal = (currentVal + 1) % 3;
        studyProgress[questionId] = nextVal;
        squareElem.innerHTML = MARK_STATES[nextVal].html;
        event.stopPropagation();
    }

    function toggleSingleAnswer(tdElement) {
        const span = tdElement.querySelector('.ans-text');
        const wrapper = tdElement.querySelector('.ans-wrapper');
        if (span && !span.classList.contains('invisible-text')) {
            span.classList.toggle('blind');
            wrapper.classList.toggle('show-hint');
        }
    }

    function toggleAllAnswers() {
        isAllAnswersVisible = !isAllAnswersVisible;
        renderViewPage();
        updateToggleBtnText();
    }

    function updateToggleBtnText() {
        const btn = document.getElementById('toggle-all-btn');
        btn.innerText = isAllAnswersVisible ? 'Á≠î„Åà„ÇíÈö†„Åô' : 'Á≠î„Åà„ÇíË°®Á§∫';
    }

    function renderViewPage() {
        const container = document.getElementById('view-mode-container');
        container.innerHTML = '';
        const start = currentPage * itemsPerPage;
        const pageData = currentData.slice(start, start + itemsPerPage);
        container.appendChild(createPageCanvas(pageData, currentTitle));
        document.getElementById('page-info').innerText = `${start + 1}„Äú${Math.min(start + itemsPerPage, currentData.length)}ÂïèÁõÆ`;
    }

    function renderAllPages() {
        const container = document.getElementById('view-mode-container');
        container.innerHTML = '';
        for (let i = 0; i < Math.ceil(currentData.length / itemsPerPage); i++) {
            container.appendChild(createPageCanvas(currentData.slice(i * itemsPerPage, (i + 1) * itemsPerPage), currentTitle));
        }
    }

    function changePage(step) {
        currentPage += step;
        if (currentPage < 0) currentPage = 0;
        if (currentPage * itemsPerPage >= currentData.length) currentPage--;
        renderViewPage();
    }
</script>
</body>
</html>
